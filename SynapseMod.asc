Version 4
SHEET 1 2388 1012
WIRE -640 400 -640 384
WIRE 336 416 176 416
WIRE 432 416 416 416
WIRE 576 416 432 416
WIRE 848 528 688 528
WIRE 688 608 688 528
WIRE 736 608 688 608
WIRE 848 624 848 528
WIRE 848 624 800 624
WIRE 880 624 848 624
WIRE 1024 624 944 624
WIRE 1152 624 1104 624
WIRE 1248 624 1152 624
WIRE 272 640 128 640
WIRE 432 640 336 640
WIRE 672 640 432 640
WIRE 736 640 672 640
WIRE 1152 640 1152 624
WIRE 128 656 128 640
FLAG -640 640 0
FLAG 160 944 0
FLAG 272 944 0
FLAG 160 864 V+
FLAG 272 864 V-
FLAG 1248 624 Vmem
FLAG 1248 704 0
FLAG -640 384 Vpre
FLAG 1152 704 0
FLAG 128 736 0
FLAG 176 416 Vpre
FLAG 432 416 Vpost
FLAG 576 416 0
FLAG -1216 592 0
FLAG 768 656 V-
FLAG 768 592 V+
FLAG 432 704 0
FLAG 672 720 0
SYMBOL voltage -640 464 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value PULSE(0 5 2 1e-8 1e-8 1e-5 3.01e-5 16611)
SYMBOL voltage 160 848 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 20
SYMBOL voltage 272 848 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value -20
SYMBOL res 688 736 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 100Meg
SYMBOL cap 1136 640 R0
WINDOW 3 -61 51 Left 2
SYMATTR Value .5n
SYMATTR InstName C2
SYMATTR SpiceLine V=16 Irms=7.41 Rser=0.000 Lser=0
SYMBOL res 1264 720 R180
WINDOW 0 -38 58 Left 2
WINDOW 3 -110 34 Left 2
SYMATTR InstName R7
SYMATTR Value 20000Meg
SYMBOL bv 128 640 R0
WINDOW 0 -52 16 Left 2
WINDOW 3 -192 88 Left 2
SYMATTR InstName B4
SYMATTR Value V=(v(Vpre)-v(Vpost))
SYMBOL res 432 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -69 27 VTop 2
SYMATTR InstName R8
SYMATTR Value R=abs(1-(v(Vmem))/(4.8))*108546460
SYMBOL voltage -640 384 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value PULSE(0 1 2.5 0.001u 0.001u 1 2 1)
SYMBOL voltage -640 544 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V7
SYMATTR Value PULSE(0 1 0 0.001u 0.001u 2 2.1 1)
SYMBOL voltage -1216 496 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value PULSE(0 5 2 1e-8 1e-8 1e-5 1.0e-3 500)
SYMBOL Opamps\\OP07 768 560 R0
SYMATTR InstName U1
SYMBOL diode 880 640 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL res 1120 608 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10Meg
SYMBOL cap 416 640 R0
WINDOW 3 -61 51 Left 2
SYMATTR Value .0001n
SYMATTR InstName C3
SYMATTR SpiceLine V=16 Irms=7.41 Rser=0.000 Lser=0
SYMBOL diode 272 656 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
TEXT 128 968 Left 2 !.tran 33
